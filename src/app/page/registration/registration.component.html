<app-main-layout>
  <h2 class="title">
    New Account
  </h2>

  <p class="desc">
    But I must explain to you how all this mistaken idea of denouncing
  </p>

  <div *ngIf="errorMessage" class="alert alert-danger alert-dismissible fade show"
       role="alert">
    <strong>Ooops!</strong> {{errorMessage}}
  </div>

  <form (ngSubmit)="onSubmit()" [formGroup]="registerForm" class="frm-registration">
    <div class="form-group">
      <label for="inpEmail">Email address</label>
      <input [ngClass]="{ 'is-invalid': submitted && f.email.errors }" aria-describedby="Email Address" autocomplete="off" class="form-control"
             formControlName="email" id="inpEmail"
             placeholder="Type in email address"
             type="email"/>
      <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
        <div *ngIf="f.email.errors.required">Required</div>
        <div *ngIf="f.email.errors.email">Email must be a valid email address</div>
        <div *ngIf="f.email.errors.apiMessage">{{f.email.errors.apiMessage}}</div>
      </div>
    </div>

    <div class="form-group">
      <label for="inpFullname">Full Name</label>
      <input [ngClass]="{ 'is-invalid': submitted && f.fullName.errors }" aria-describedby="Full Name" autocomplete="off" class="form-control"
             formControlName="fullName" id="inpFullname"
             placeholder="Type in full name"
             type="text"/>
      <div *ngIf="submitted && f.fullName.errors" class="invalid-feedback">
        <div *ngIf="f.fullName.errors.required">Required</div>
      </div>
    </div>

    <div class="form-group">
      <label for="inpPassword">Password</label>
      <input [ngClass]="{ 'is-invalid': submitted && f.password.errors }" aria-describedby="Password" autocomplete="off" class="form-control"
             formControlName="password" id="inpPassword"
             placeholder="Type in password"
             type="password"/>
      <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
        <div *ngIf="f.password.errors.required">Required</div>
        <div *ngIf="f.password.errors.minlength">Password must be at least 8 characters</div>
      </div>
    </div>

    <div class="form-group">
      <label for="inpConPassword">Confirm Password</label>
      <input [ngClass]="{ 'is-invalid': submitted && f.confirmPassword.errors }" aria-describedby="Confirm Password" autocomplete="off" class="form-control"
             formControlName="confirmPassword" id="inpConPassword"
             placeholder="Confirm your password"
             type="password"/>
      <div *ngIf="submitted && f.confirmPassword.errors" class="invalid-feedback">
        <div *ngIf="f.confirmPassword.errors.required">Required</div>
        <div *ngIf="f.confirmPassword.errors.mustMatch">Passwords must match</div>
      </div>
    </div>

    <div class="form-group">
      <button (click)="router.navigate(['/login']);" class="btn btn-default btn-back" type="button">Back</button>
      <button [disabled]="isLoading" class="btn btn-primary btn-signup"
              type="submit">
        Sign up
        <img *ngIf="!isLoading" class="btn-icon" src="../../../assets/images/icons/icon-arrow-right.svg">
        <span *ngIf="isLoading" aria-hidden="true" class="spinner-grow spinner-grow-sm loader" role="status"></span>
      </button>
    </div>

    <div class="form-group">
      <p class="signup-note">By signing up, I agree to the <a href="#">Terms and Conditions</a> and <a href="#">Privacy
        Policy</a></p>
    </div>
  </form>
</app-main-layout>
