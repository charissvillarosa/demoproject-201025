<app-main-layout>
  <h2 class="title">
    Welcome Back
  </h2>

  <p class="desc">
    But I must explain to you how all this mistaken idea of denouncing
  </p>

  <div *ngIf="errorMessage" class="alert alert-danger alert-dismissible fade show"
       role="alert">
    <strong>Ooops!</strong> {{errorMessage}}
  </div>

  <form (ngSubmit)="onSubmit()" [formGroup]="loginForm" class="frm-login">
    <div class="form-group">
      <label for="inpEmail">Email address</label>
      <input [ngClass]="{ 'is-invalid': submitted && f.email.errors }" aria-describedby="Email Address" autocomplete="off" class="form-control"
             formControlName="email" id="inpEmail"
             placeholder="Type in email address"
             type="email"/>
      <div *ngIf="submitted && f.email.errors" class="invalid-feedback">
        <div *ngIf="f.email.errors.required">Required</div>
        <div *ngIf="f.email.errors.email">Email must be a valid email address</div>
      </div>
    </div>

    <div class="form-group">
      <label for="inpPassword">Password</label>
      <input [ngClass]="{ 'is-invalid': submitted && f.password.errors }" aria-describedby="Password" autocomplete="off" class="form-control"
             formControlName="password" id="inpPassword"
             placeholder="Type in password"
             type="password"/>
      <div *ngIf="submitted && f.password.errors" class="invalid-feedback">
        <div *ngIf="f.password.errors.required">Required</div>
        <div *ngIf="f.password.errors.minlength">Password must be at least 8 characters</div>
      </div>
    </div>

    <div class="form-group">
      <a class="forgot-password" href="#">Forget password?</a>
    </div>

    <div class="form-group">
      <button (click)="router.navigate(['/registration']);" class="btn btn-default btn-signup" type="button">Sign up
      </button>
      <button [disabled]="isLoading" class="btn btn-primary btn-login"
              type="submit">
        Login
        <img *ngIf="!isLoading" class="btn-icon" src="../../../assets/images/icons/icon-login.svg">
        <span *ngIf="isLoading" aria-hidden="true" class="spinner-grow spinner-grow-sm loader" role="status"></span>
      </button>
    </div>
  </form>
</app-main-layout>
